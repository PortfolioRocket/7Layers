<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>7 Layers Survey</title>

  <!-- SurveyJS CSS -->
  <link href="https://unpkg.com/survey-core/defaultV2.min.css" rel="stylesheet"/>

  <!-- SurveyJS Core + Knockout UI -->
  <script src="https://unpkg.com/survey-core/survey.core.min.js"></script>
  <script src="https://unpkg.com/survey-knockout-ui/survey.ko.min.js"></script>

  <style>
    body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; }
    .wrap { max-width: 900px; margin: 48px auto; padding: 0 20px; }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>7 Levels Deep Exercise</h1>
    <div id="surveyContainer"></div>
  </div>

  <script>
    async function init() {
      // cache-bust so updates show immediately
      const res = await fetch("survey.json?cb=" + Date.now());
      const surveyJson = await res.json();

      const survey = new Survey.Model(surveyJson);

      survey.onComplete.add((sender) => {
        console.log("Survey results:", sender.data);
        alert("Thanks! Your answers were recorded (see browser console).");
        // TODO: POST to your endpoint/Sheets here if desired
        // fetch("https://your-endpoint.example/collect", { method: "POST", headers: {"Content-Type":"application/json"}, body: JSON.stringify(sender.data) });
      });

      survey.render("surveyContainer");
    }
    init();
  </script>
</body>
</html>
